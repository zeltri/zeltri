---
interface Props {
  type?: "info" | "success" | "warning" | "error";
  title?: string;
}

const { type = "info", title } = Astro.props;

const colors = {
  info: {
    bg: "#1e3a5f",
    border: "#3b82f6",
    text: "#93c5fd",
  },
  success: {
    bg: "#1e3d2c",
    border: "#22c55e",
    text: "#86efac",
  },
  warning: {
    bg: "#3d3600",
    border: "#eab308",
    text: "#facc15",
  },
  error: {
    bg: "#3d1f1f",
    border: "#ef4444",
    text: "#fca5a5",
  },
};

const color = colors[type];
---

<style define:vars={{ bg: color.bg, border: color.border, text: color.text }}>
  .alert {
    background-color: var(--bg);
    border-left: 4px solid var(--border);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    margin: var(--space-lg) 0;
  }

  .alert-title {
    color: var(--text);
    font-weight: 600;
    margin: 0 0 var(--space-sm) 0;
  }

  .alert-content {
    color: var(--text);
  }

  .alert-content :global(p) {
    margin: 0;
  }

  .alert-content :global(code) {
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--text);
  }
</style>

<div class="alert">
  {title && <div class="alert-title">{title}</div>}
  <div class="alert-content">
    <slot />
  </div>
</div>
